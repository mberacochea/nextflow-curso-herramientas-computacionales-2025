/*
 * Pipeline configuration
 */

params {
    // Input/output options
    reference = null
    samplesheet = null
    outdir = "results"
}

// Process resource configuration
process {
    // Default resources for all processes
    cpus = 1
    memory = '512.MB'
    time = '1.h'

    // Process-specific resource allocations
    withName: 'BWA_INDEX' {
        cpus = 2
        memory = '1.GB'
    }

    withName: 'BWA_MEM' {
        cpus = 2
        memory = '1.GB'
    }

    withName: 'SAMTOOLS_SORT' {
        cpus = 2
        memory = '1.GB'
    }
}

// Execution report options
timeline {
    enabled = true
    file = "${params.outdir}/timeline.html"
    overwrite = true
}

report {
    enabled = true
    file = "${params.outdir}/report.html"
    overwrite = true
}

trace {
    enabled = true
    file = "${params.outdir}/trace.txt"
    overwrite = true
}

// Setup the env
profiles {
    docker {
        docker.enabled = true
    }

    conda {
        conda.enabled = true
    }
}
